# yaml-language-server: $schema=../schema/yaml_template_schema.json
#
# This template has an output directory structure like the following:
#
# year_summary_internal_researcherName_organisationName/sensor/date/trial/procLevel
#
# e.g.
# year_summary_internal_researcherName_organisationName
#    └── sensor
#         └── date
#              └── trial
#                   └── procLevel
#
# An example derived from input filename: 2025-08-14_06-30-03_393242_0814_test2_jai_0.bin
#
# Inputs from protobuf file filename:
#  trial = test2
#  sensor = jai
#  date = 2025-08-14
#
# Inputs from Phenomate GUI:
#  year = 2025
#  summary = test-tiff-lzw-v2
#  internal = T | F
#  researcherName = josh
#  organisationName = appn-data
#
# Final output structure:
#
# 2025_test-tiff-lzw-v2_internal_josh_appn-data
#    └── jai
#         └── 2025-08-14
#              └── test2
#                   └── T0-raw


version: 0.0.8
naming_convention:
  sep: "_"
  structure: ['year', 'summary', 'internal', 'researcherName', 'organisationName']
layout:
  structure: ['sensor', 'date', 'trial', 'procLevel']
  mapping:
    procLevel:
      raw: 'T0-raw'
      proc: 'T1-proc'
      trait: 'T2-trait'
file:
  "*":
    sep: "_"
    default:
      procLevel: raw
    components:
      - sep: "_"
        components:
          - ['date', '\d{4}-\d{2}-\d{2}']
          - ['time', '\d{2}-\d{2}-\d{2}']
      - ['ms', '\d{6}']
      - ['dateshort', '\d{4}']
      - ['trial', '[^_.]+']
      - ['sensor', '[^_.]+']
      - name: 'procLevel'
        pattern: 'T0-raw|T1-proc|T2-trait|raw|proc|trait'
        required: false
