# yaml-language-server: $schema=../schema/yaml_template_schema.json
#
# This template has an output directory structure like the following:
#
# year_summary_internal_researcherName_organisationName/sensor/date/trial/procLevel
#
# e.g.
# year_summary_internal_researcherName_organisationName
#    └── sensor
#         └── date
#              └── trial
#                   └── procLevel
#
# Phenomate/2025_test-tiff-lzw-v2_internal_josh_appn-data/jai/2025-08-14/test2/T0-raw
#
# Final output structure:

# Phenomate/2025_test-tiff-lzw-v2_internal_josh_appn-data
#                  └── jai
#                       └── 025-08-14
#                             └── test2
#                                  └── T0-raw
#
#
# Input data: Z:\Amiga    \2025   \Netblotch \hart \<sensors>
# Input data: Z:\<platform>\<Year>\<Project> \<site>\<sensors>
#
#
# structure: ['year', 'summary', 'internal', 'researcherName', 'organisationName']
#  == 2025_test-tiff-lzw-v2_internal_josh_appn-data
#
#              organisationName (node: AU)
#                 └── project  (project: 2025_SIFOzBarley)  ------------> project e.g. 2025_SIFOzBarley
#                        └── site  (site: Roseworthy)
#                              <-----------------------------------------  directory structure is automated from:  
#                             └── platform  (( change to Deployment): phenomate | amiga | Gobi)  <---  here 
#                                  └── date    (date: 20250820  <--> 2025-08-20)
#                                       └── run (run: run00)
#                                            └── procLevel (processing level: T0-raw)
#                                                  └── sensor (jai | RGB)
#
#  Z:\Adelaide\2025_SIFOzBarley\Roseworthy\Gobi\20250820\run00
#
# An example derived from input filename: 2025-08-14_06-30-03_393242_0814_test2_jai_0.bin
#
# Inputs from protobuf file filename:
#  run = test2
#  sensor = jai
#  date = 2025-08-14
#
# Inputs from Phenomate GUI:
#  year = 2025
#  project  = 2025_SIFOzBarley       ------------> e.g. 2025_SIFOzBarley
#  summary  = October Barley         ------------> Not used in directory structure
#  site = Roseworthy                <------------- Do I need to add this? Maybe not, as a user can select the directory
#  platform = phenomate_1
#  internal = T | F
#  researcherName = josh             ------------>  save to json?
#  organisationName = Adelaide       ------------>  save to json?
# 
# Final output structure:
#



version: 0.0.8
naming_convention:
  sep: "/"
  structure: ['organisationName', 'project', 'site', 'platform'] 
layout:
  structure: [  'date', 'run', 'procLevel', 'sensor' ]
  mapping:
    procLevel:
      raw: 'T0-raw'
      proc: 'T1-proc'
      trait: 'T2-trait'
    # site:
      # - Roseworthy
      # - Birdcage
      # - Hart
      # - EP
      # - Mallala
      # - WaiteCampus
file:
  "*":
    sep: "_"
    default:
      procLevel: raw
    components:
      - sep: "_"
        components:
          - ['date', '\d{4}-\d{2}-\d{2}']
          - ['time', '\d{2}-\d{2}-\d{2}']
      - ['ms', '\d{6}']
      - ['dateshort', '\d{4}']
      - ['run', '[^_.]+']
      - ['sensor', '[^_.]+']
      - name: 'procLevel'
        pattern: 'T0-raw|T1-proc|T2-trait|raw|proc|trait'
        required: false

